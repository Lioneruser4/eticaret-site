<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #0f172a; color: white; font-family: sans-serif; text-align: center; padding-top: 50px; }
        .box { background: #1e293b; padding: 20px; border-radius: 15px; display: inline-block; width: 80%; }
        input { width: 90%; padding: 10px; margin: 10px 0; border-radius: 5px; border: none; }
        button { background: #38bdf8; border: none; padding: 10px 20px; border-radius: 5px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>
    <div class="box">
        <h3 id="userWelcome">Yükleniyor...</h3>
        <input type="text" id="mName" placeholder="Müzik adı (örn: Miyagi)">
        <br>
        <button onclick="gonder()">BOTA GÖNDER</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        const user = tg.initDataUnsafe?.user;
        
        if(user) {
            document.getElementById('userWelcome').innerText = "Hoş geldin, " + user.first_name;
        }

        async function gonder() {
            const m = document.getElementById('mName').value;
            if(!m) return;
            
            // Render linkin
            const url = `https://saskioyunu.onrender.com/indir?chat_id=${user.id}&music=${encodeURIComponent(m)}`;
            
            fetch(url);
            alert("İstek bota iletildi! Botu kontrol et.");
        }
    </script>
</body>
</html>
