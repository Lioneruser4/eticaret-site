<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>M…ôl…ôk Chat</title>
<style>
body {margin:0;font-family:'Segoe UI',sans-serif;background:#0e1621;color:#fff;display:flex;flex-direction:column;height:100vh;overflow:hidden;}
#chat{flex:1;overflow-y:auto;padding:10px;display:flex;flex-direction:column;}
.message{max-width:80%;margin:5px 0;padding:10px 15px;border-radius:20px;word-wrap:break-word;}
.user{background:#70a1ff;align-self:flex-end;color:#000;}
.ai{background:#1a2b4c;align-self:flex-start;}
#inputArea{display:flex;padding:10px;background:#121c2d;}
#inputArea input{flex:1;padding:10px;border-radius:20px;border:none;outline:none;font-size:16px;}
#inputArea button{margin-left:10px;padding:10px 15px;border-radius:20px;border:none;background:#70a1ff;color:#000;font-weight:bold;cursor:pointer;}
#typing{font-size:18px;color:#0ff;font-weight:bold;padding-left:10px;display:none;}
</style>
</head>
<body>

<div id="chat"></div>
<div id="typing">Yazƒ±r...</div>

<div id="inputArea">
  <input id="userInput" placeholder="Mesaj yaz..." />
  <button id="sendBtn">G√∂nd…ôr</button>
</div>

<script>
// Chat elementi
const chat = document.getElementById('chat');
const input = document.getElementById('userInput');
const sendBtn = document.getElementById('sendBtn');
const typing = document.getElementById('typing');

// Telegram istifad…ô√ßi adƒ± (WebView simulasiya)
let telegramUser = localStorage.getItem('telegramUser') || 'Xaliq';
localStorage.setItem('telegramUser', telegramUser);

// Mesaj …ôlav…ô funksiyasƒ±
function addMessage(text, cls){
  const msg = document.createElement('div');
  msg.className = 'message ' + cls;
  msg.textContent = text;
  chat.appendChild(msg);
  chat.scrollTop = chat.scrollHeight;
}

// Pulsuz AI cavab generator (JS simulasiya)
async function getAIResponse(userMsg){
  typing.style.display='block';
  await new Promise(r=>setTimeout(r,1000)); // gecikm…ô
  typing.style.display='none';
  
  userMsg = userMsg.toLowerCase();
  
  if(userMsg.includes('sahibin kimdir')){
    return `M…ôni kodlayan v…ô sahibim Xaliq Mustafayevdir. Telegram v…ô Instagram: @xaliqmustafayev`;
  } else if(userMsg.includes('salam') || userMsg.includes('hi')){
    return `Salam ${telegramUser}! M…ôn M…ôl…ôk, dostca AI-san. Nec…ô k√∂m…ôk ed…ô bil…ôr…ôm?`;
  } else if(userMsg.includes('nec…ôs…ôn')){
    return `M…ôn yax≈üƒ±yam ${telegramUser}, s…ôn nec…ôs…ôn? üòä`;
  } else {
    // Random dostca cavablar
    const responses = [
      `Hmm, maraqlƒ± sualdƒ±r!`,
      `Bunu d√º≈ü√ºnd√ºm, amma s…ôn n…ô fikirl…ô≈üirs…ôn?`,
      `He√ß bir problem yoxdur, davam ed…ôk!`,
      `Haha, maraqlƒ± dedin!`,
      `∆èlb…ôtt…ô, s…ôn…ô k√∂m…ôk ed…ô bil…ôr…ôm.`
    ];
    return responses[Math.floor(Math.random()*responses.length)];
  }
}

// G√∂nd…ôr d√ºym…ôsi
sendBtn.addEventListener('click', async ()=>{
  const msg = input.value.trim();
  if(!msg) return;
  addMessage(msg,'user');
  input.value='';
  const aiResp = await getAIResponse(msg);
  addMessage(aiResp,'ai');
});

// Enter il…ô g√∂nd…ôr
input.addEventListener('keydown', e=>{
  if(e.key==='Enter') sendBtn.click();
});

// Telegram WebView tam ekran
if(window.Telegram?.WebApp){
  Telegram.WebApp.expand();
}
</script>

</body>
</html>
